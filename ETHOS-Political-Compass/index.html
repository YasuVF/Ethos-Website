<!DOCTYPE html>
<html>
<head>
  <title>ETHOS Political Compass</title>
  <style>
@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
.spinner {
  display: inline-block;
  width: 40px;
  height: 40px;
  border: 4px solid rgba(0, 0, 0, 0.1);
  border-top-color: #2196f3;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 20px auto;
}
/* Toggle styles */
.toggle-switch {
  position: relative;
  display: inline-block;
  width: 46px;
  height: 24px;
}
.toggle-switch input {
  opacity: 0;
  width: 0;
  height: 0;
}
.toggle-slider {
  width: 46px;  /* Match the toggle-switch container */
  position: absolute;
  cursor: pointer;
  top: 0; left: 0;
  right: 0; bottom: 0;
  background-color: #333;
  border-radius: 34px;
  transition: 0.4s;
}
.toggle-knob {
  position: absolute;
  height: 20px;
  width: 20px;
  left: 2px;
  top: 2px;
  background-color: white;
  border-radius: 50%;
  transition: 0.4s;
}
.toggle-switch input:checked + .toggle-slider {
  background-color: #999;
}
    
.toggle-switch input:checked + .toggle-slider .toggle-knob {
  transform: translateX(22px); /* correct size for 46px track with 20px knob */
}
    
  body.dark-mode {
    background-color: #121212;
    color: #e0e0e0;
  }
    
  body.dark-mode #quiz {
    background-color: #1e1e1e;
    box-shadow: 0 4px 12px rgba(255, 255, 255, 0.05);
  }
    
  body.dark-mode .question-box,
  body.dark-mode .answer-option {
    background-color: #222;
    border-color: #444;
    
  }
  body.dark-mode .answer-text {
    color: #ddd;
    
  }
  body.dark-mode .answer-option.selected {
    background-color: rgba(33, 150, 243, 0.3);
    border-color: #2196f3;
  }
  
  body {
    font-family: 'Segoe UI', Tahoma, sans-serif;
    background-color: #f8f5ee;
    color: #111111;
    padding: 20px;
    max-width: 1000px;
    margin: auto;
  }

  h1 {
    text-align: center;
    margin-bottom: 10px;
  }

  p, li {
    font-size: 16px;
    line-height: 1.5;
  }

  #quiz {
    background: white;
    border-radius: 12px;
    padding: 50px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    margin-top: 30px;
    transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;
  }

  .question-box {
    border: 1px solid #ccc;
    border-radius: 8px;
    padding: 16px;
    margin-bottom: 20px;
  }

  button {
    display: block;
    margin: 10px 0;
    width: 100%;
    padding: 12px;
    font-size: 16px;
    background-color: #2196f3;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  button:hover {
    background-color: #1976d2;
  }

  #progress-container {
    height: 10px;
    background: #ccc;
    border-radius: 6px;
    overflow: hidden;
    margin-top: 20px;
    margin-bottom: 30px;
  }

  #progress-bar {
    height: 100%;
    width: 0%;
    background: linear-gradient(to right, #2196f3, #64b5f6);
    transition: width 0.3s ease-in-out;
  }

  .answer-set {
    display: flex;
    flex-direction: column;
    gap: 10px;
    margin-top: 8px;
  }

  .answer-option {
    display: flex;
    align-items: center;
    padding: 10px 14px;
    border-radius: 8px;
    border: 1px solid #ccc;
    cursor: pointer;
    transition: background-color 0.2s ease;
  }

  .answer-option:hover {
    background-color: rgba(33, 150, 243, 0.05);
  }

  .answer-option.selected {
    background-color: rgba(33, 150, 243, 0.15);
    border-color: #2196f3;
  }

  .circle {
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid #ccc;
    margin-right: 12px;
    transition: background-color 0.3s ease, border-color 0.3s ease;
  }

  .answer-option.selected .circle {
    background-color: #2196f3;
    border-color: #2196f3;
  }

  .answer-text {
    font-size: 16px;
    color: #333;
  }

  .fade-out {
    opacity: 0;
    transform: translateY(10px);
  }

  .fade-in {
    opacity: 1;
    transform: translateY(0);
  }
    
.main-header {
  box-sizing: border-box;
  position: sticky;
  top: 0;
  background-color: #222;
  color: white;
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 4px 24px;
  height: 48px;
  z-index: 1000;
  box-shadow: 0 2px 4px rgba(0,0,0,0.2);
}
    
.brand {
  font-size: 22px;
  font-weight: bold;
  letter-spacing: 1px;
}
    
.header-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 32px;
}

.header-nav .nav-link,
.header-nav button {
  background: none;
  border: none;
  color: white;
  font-size: 16px;
  cursor: pointer;
  text-decoration: none;
  transition: color 0.2s ease, text-decoration 0.2s ease;
}

.header-nav .nav-link:hover,
.header-nav button:hover {
  text-decoration: underline;
  color: #64b5f6;
}

.header-right {
  display: flex;
  align-items: center;
}

body.dark-mode .main-header {
  background-color: #111;
  color: #e0e0e0;
  box-shadow: 0 2px 4px rgba(255,255,255,0.1);
}

body.dark-mode aside {
  color: #111111; /* Dark gray text inside white box */
}

.light-box {
  background-color: #f1f1f1;
  color: #111;
  padding: 16px;
  border-radius: 8px;
}

body.dark-mode .light-box {
  color: #111; /* Ensure text stays dark in dark mode */
}

.collapsible-content {
  max-height: 0;
  overflow: hidden;
  opacity: 0;
  transition: max-height 0.6s ease, opacity 0.6s ease;
}

.collapsible-content.open {
  max-height: 2000px; /* adjust if needed */
  opacity: 1;
}

.donation-toggle-btn {
  background-color: #444; /* ← Pick your new color here */
  color: white;
  padding: 8px 12px;
  font-size: 14px;
  border-radius: 6px;
  border: none;
  cursor: pointer;
  transition: background-color 0.3s ease;
}

.show-more-btn {
  display: block;
  margin: 0 auto;
  text-align: center;
  color: #444;
  font-size: 16px;
  cursor: pointer;
  transition: color 0.2s ease;
  outline: none; /* no blue focus ring */
}

.show-more-btn:hover {
  color: #333;
}

.show-more-btn:focus-visible {
  outline: none; /* optional: or add a custom dashed border for accessibility */
}

.donation-sidebar {
  position: fixed;
  left: 0;
  top: 0;
  width: 260px;
  height: 100%;
  background-color: #ffffff;
  border-radius: 12px 0 0 12px;
  padding: 16px;
  box-shadow: 2px 0 6px rgba(0, 0, 0, 0.1);
  transition: transform 0.4s ease, opacity 0.4s ease;
  z-index: 100;
}

.donation-sidebar.hidden {
  transform: translateX(-280px);
  opacity: 0;
  pointer-events: none;
}

.result-description {
  margin-top: 20px;
  padding: 12px;
  border: 1px solid #ccc;
  border-radius: 8px;
  background-color: #f9f9f9;
  color: #111 !important;
}

body.dark-mode .result-description {
  background-color: #1e1e1e !important;
  border-color: #444 !important;
  color: #e0e0e0 !important;
}

/* Temporary fade-in on page load */
.donation-sidebar.fade-init {
  opacity: 0;
  transform: translateX(-40px);
}
.donation-sidebar.fade-init-animate {
  transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  opacity: 1;
  transform: translateX(0);
}
</style>
<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>

<script>
function toggleDonations() {
  const aside = document.querySelector('.donation-sidebar');
  const button = document.getElementById('donationToggleBtn');
  const isHidden = aside.classList.contains('hidden');

  aside.classList.toggle('hidden');
  button.innerText = isHidden ? 'Hide Donations' : 'Show Donations';
  button.classList.toggle('active', isHidden);
  button.classList.toggle('inactive', !isHidden);
}

function toggleMore(button) {
  const content = document.getElementById("moreContent");
  const isOpen = content.classList.contains("open");

  if (isOpen) {
    content.classList.remove("open");
    button.textContent = "Show More ▼";
  } else {
    content.classList.add("open");
    button.textContent = "Show Less ▲";
  }
}

window.addEventListener('DOMContentLoaded', () => {
    const sidebar = document.querySelector('.donation-sidebar');

    // Temporarily apply fade-in effect
    sidebar.classList.add('fade-init');

    requestAnimationFrame(() => {
      sidebar.classList.add('fade-init-animate');

      // Remove the helper classes after animation ends (optional)
      setTimeout(() => {
        sidebar.classList.remove('fade-init', 'fade-init-animate');
      }, 700); // just longer than the transition time
    });
  });
</script>
</head>
<body>

<!-- Header Bar -->
<header class="main-header" style="display: flex; justify-content: space-between; align-items: center; padding: 4px 24px; height: 48px;">
  <div class="header-left" style="display: flex; align-items: center;">
    <img src="../SRC/Ethos-Brand-Logo.png" alt="ETHOS Logo" style="height: 40px; margin-right: 10px;">
    <span class="brand">ETHOS</span>
  </div>

  <nav class="header-nav" style="display: flex; gap: 40px; align-items: center;">
    <a href="../index.html" class="nav-link">Home</a>
    <a href="explanation.html" class="nav-link">Explanation</a>
    <a href="index.html" class="nav-link">Test</a>
    <a href="faq.html" class="nav-link"">FAQ</a>
  </nav>

  <div class="header-right" style="display: flex; align-items: center; gap: 8px;">
    <button id="donationToggleBtn" class="donation-toggle-btn" onclick="toggleDonations()">Hide Donations</button>
    <label class="toggle-switch">
      <input type="checkbox" onchange="document.body.classList.toggle('dark-mode')">
      <span class="toggle-slider"><span class="toggle-knob"></span></span>
    </label>
  </div>
</header>

<div style="position: relative; display: flex; justify-content: center;">
  <aside class="donation-sidebar">
  <h3>Support This Project</h3>
  <p style="font-size: 14px;">If you found this tool valuable, consider donating to help with hosting and development:</p>
  <p><a href="https://nowpayments.io/donation?api_key=Y5PPVXH-HJGMF6B-NYXV3M2-DBD1QDG" target="_blank"><button style="display: flex; align-items: center; gap: 8px; padding: 10px 14px; background-color: black; color: white; font-weight: bold; border: none; border-radius: 6px; cursor: pointer;"> Donate Crypto</button></a></p>
</aside>
  <div style="margin-left: 160px; margin-right: 80px; max-width: 1100px;">
  <main style="flex: 1;">

    <hr style="border: none; height: 2px; background: black; margin: 30px auto;">
<h1>ETHOS Political Compass</h1>
  <p>This test was created to map political ideology using a three-dimensional model and accurate ideology interpretations, offering a deeper and more nuanced view than traditional left-right or authoritarian-libertarian charts. Due to the nature of 3D modeling, references to 'up' and 'down' become difficult, so take them as general guides and examine the results carefully. Your answers will place you along three axes:</p>
<ul>
  <li><strong>Economic (X-axis)</strong>: Left (Socialist) ↔ Right (Capitalist)</li>
  <li><strong>Authority (Y-axis)</strong>: Down (Reformist) ↔ Up (Traditionalist)</li>
  <li><strong>Adherence (Z-axis)</strong>: Forward (Relativistic) ↔ Back (Principled)</li>
</ul>

<!-- More Info Toggle Button -->
<span class="show-more-btn" onclick="toggleMore(this)" role="button" tabindex="0">Show More ▼</span>

<!-- Collapsible Content -->
<div id="moreContent" class="collapsible-content">

  <p>The original Political Compass — while widely used — suffers from oversimplification and misinformed framing. It reduces complex ideological tendencies to two axes without accounting for depth of belief or moral foundations. For instance, moral absolutism vs relativism is a meaningful third axis that is entirely absent. Additionally, the original test tends to reflect contemporary Western political narratives and may misplace certain ideologies when viewed historically or cross-culturally. For example, Adolf Hitler is frequently placed on the far-right of the traditional 2D compass, yet his regime combined economically socialist policies, extreme nationalism, and moral absolutism rooted in a dogmatic worldview — making him more accurately categorized as a realist socialist: authoritarian, principled, and socialist.</p>

  <div style="display: flex; gap: 20px; margin-top: 20px;">
    <div class="light-box">
      <h4 style="margin-top: 0;">Traditional 2D Compass</h4>
      <p><strong>Position:</strong> Far-Right, Authoritarian</p>
      <p><em>Often shown at the top-right of the grid.</em></p>
      <img src="SRC/hitler-2d-example.png" alt="2D Compass Position of Hitler" style="width: 100%; border-radius: 6px;">
    </div>
    <div class="light-box">
      <h4 style="margin-top: 0;">Reinterpreted 3D Compass</h4>
      <p><strong>Position:</strong> Authoritarian, Realist Socialist</p>
      <p><em>Located in the back-top-left quadrant.</em></p>
      <img src="SRC/hitler-3d-placement.png" alt="3D Compass Position of Hitler" style="width: 100%; border-radius: 6px;">
    </div>
  </div>

  <p>This visual comparison illustrates how ideological misclassification can occur when compressed into two dimensions. While the traditional chart places Hitler in the far-right authoritarian quadrant due to a multitude of misinformed factors, it primarily neglects the doctrinaire moralism and centralized collectivism that more accurately define realist socialism in this 3D model. This is not to sanitize or relativize, but to emphasize ideological structure over modern semantic bias.</p>
  <p>Answer each question honestly. There are no right or wrong responses — only insights.</p>

</div>

<!-- Progress & Quiz -->
<hr>
<div id="progress-container" style="position: relative; height: 10px; background: #ddd; border-radius: 6px; overflow: hidden; margin-top: 20px; margin-bottom: 30px;">
  <div id="progress-bar" style="height: 100%; width: 0%; background: linear-gradient(to right, #2196f3, #64b5f6); transition: width 0.3s ease-in-out;"></div>
  <div id="progress-text" style="position: absolute; top: -20px; left: 50%; transform: translateX(-50%); font-size: 12px;">0%</div>
</div>

<div id="quiz"></div>
<!-- Graph Display Section -->
<section id="graph-section" aria-label="3D Political Graph" style="display: none;">
  <div id="graph" style="height: 500px; margin-top: 40px;"></div>
  <div id="graph-controls" style="margin-top: 10px;">
    <button id="downloadBtn" style="padding: 10px 14px; background-color: #2196f3; color: white; border: none; border-radius: 6px; cursor: pointer;">
      Download Chart
    </button>
  </div>
</section>
</main>
</div>


<script src="script.js"></script>
<script> 
function showTab(id) {
  document.querySelectorAll('.tab-btn').forEach(btn => btn.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(tab => tab.style.display = 'none');
  document.querySelector(`[onclick="showTab('${id}')"]`).classList.add('active');
  document.getElementById(id).style.display = 'block';
}

const downloadBtn = document.getElementById("downloadBtn");
if (downloadBtn) {
  downloadBtn.onclick = function () {
    Plotly.downloadImage('graph', {
      format: 'png',
      filename: 'ethos_3d_result',
      height: 600,
      width: 800,
      scale: 2
    });
  };
}
</script>

<footer class="mt-auto px-8 py-6 text-sm text-gray-700 border-t text-center">
  &copy; 2025 Ethos. Designed with purpose.
</footer>
  
</body>
</html>
